

@{
    ViewBag.Title = "ChonGhe";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}




@*



    @using (Html.BeginForm("Index", "ThanhToan", FormMethod.Post))
    {
        <hr />


        foreach (var item in ViewBag.tbmaghe)
        {


            <tr>
                <td>
                    @item.TenGhe
                </td>
                @{
                    if (gheDaDat.Contains(item.Ma_PhongGhe))
                    {
                        <td>
                            <input type="checkbox" name="cho" value=" @item.Ma_PhongGhe" disabled="disabled" />
                        </td>
                    }
                    else
                    {
                        <td>
                            <input type="checkbox" name="cho" value=" @item.Ma_PhongGhe" />
                        </td>
                    }
                }

            </tr>
        }

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Thanh toán" class="btn btn-default" />
            </div>
        </div>

    }
*@




<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="~/Content/assets/css/bookingticket.css" />

    <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="~/Content/assets/fontawesome-free-6.1.1/css/all.min.css">
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <title>Movie Seat Booking</title>
</head>
<body>
    <!-------------------- Header ------------------>
    <!-------------------- Body ------------------>

    <br />

    <div class="body">
        <h2 class="text-center">Chọn ghế</h2>


        @{
            if (TempData["thongbao"] != null)
            {
                <p>@TempData["thongbao"]</p>
            }
            List<long> gheDaDat = new List<long>();
            gheDaDat = ViewBag.gheDaDat;

        }

        <ul class="showcase">
            <li>
                <div class="seat"></div>
                <small>Chưa chọn</small>
            </li>
            <li>
                <div class="seat selected"></div>
                <small>Ghế đang chọn</small>
            </li>
            <li>
                <div class="seat sold"></div>
                <small>Ghế đã bán</small>
            </li>
        </ul>
        <div class="container">
            <div class="screen"></div>
            @using (Html.BeginForm("Index", "ThanhToan", FormMethod.Post))
            {
                <div class="movie-container">
                    <label> Phương thức thanh toán: </label>
                    <select id="movie" name="Ma_TT">
                        @foreach (var item in ViewBag.thanhToan)
                        {
                            <option value=@item.Ma_TT>@item.TenTiengViet</option>
                        }
                    </select>
                </div>
                <hr />

                var solan = 0;
                for (int i = 0; i < ViewBag.tbmaghe.Count / 13; i++)
                {
                    <div class="row_checkbox">
                        @for (int j = 0; j < 13; j++)
                        {

                            if (gheDaDat.Contains(ViewBag.tbmaghe[solan].Ma_PhongGhe))
                            {
                                if ((ViewBag.tbmaghe[solan].Ma_LoaiGhe).Equals("Thuong"))
                                {
                                    <input style="background-color:aqua" class="seat" type="checkbox" name="cho" value=" @ViewBag.tbmaghe[solan].Ma_PhongGhe" disabled="disabled" />
                                }
                                else if ((ViewBag.tbmaghe[solan].Ma_LoaiGhe).Equals("Vip"))
                                {

                                    <input style="background-color:aqua" class="seat" type="checkbox" name="cho" value=" @ViewBag.tbmaghe[solan].Ma_PhongGhe" disabled="disabled" />
                                }
                                else if ((ViewBag.tbmaghe[solan].Ma_LoaiGhe).Equals("Doi"))
                                {

                                    <input style="background-color:aqua" class="seat" type="checkbox" name="cho" value=" @ViewBag.tbmaghe[solan].Ma_PhongGhe" disabled="disabled" />

                                }

                            }
                            else
                            {

                                if ((ViewBag.tbmaghe[solan].Ma_LoaiGhe).Equals("Thuong"))
                                {

                                    <input class="seat" type="checkbox" name="cho" value=" @ViewBag.tbmaghe[solan].Ma_PhongGhe" style="input [type=checkbox] { accent-color: red; } " />
                                }
                                else if ((ViewBag.tbmaghe[solan].Ma_LoaiGhe).Equals("Vip"))
                                {
                                    <input style="background-color:aqua" class="seat" type="checkbox" name="cho" value=" @ViewBag.tbmaghe[solan].Ma_PhongGhe" />
                                }
                                else if ((ViewBag.tbmaghe[solan].Ma_LoaiGhe).Equals("Doi"))
                                {
                                    <input style="background-color:aqua" class="seat" type="checkbox" name="cho" value=" @ViewBag.tbmaghe[solan].Ma_PhongGhe" />
                                }
                            }
                            solan++;



                        }
                    </div>
                }

                <br />
                <br />
                <div class="form-group ">
                    <div class="col-md-offset-2 col-md-10 d-flex flex-row-reverse ">
                        <input type="submit" value="Thanh toán" class="btn btn-info" />
                    </div>
                </div>

            }




        </div>

        <!-- <p class="text">
          Bạn đã chọn mua <span id="count">0</span> vé có giá: <span id="total">0</span><span> vnđ</span>
        </p> -->

    </div>
    <!-------------------- footer ------------------>
    <!-- Footer -->
</body>
</html>






